<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>unocss-preset-antd-app</title>
    <meta
      name="viewport"
      content="width=device-width, height=device-height, initial-scale=1.0"
    />
    <!-- initialize light/dark theme as early as possible (cf. src/utils/use-theme-state.ts) -->
    <script>
      function __getTheme() {
        return window.localStorage.getItem("theme") || "system";
      }
      function __setTheme(theme) {
        window.localStorage.setItem("theme", theme);
        __applyTheme(theme);
      }
      function __applyTheme(theme) {
        const classList = document.documentElement.classList;
        classList.remove("dark");
        classList.remove("light");
        if (theme === "system") {
          // TODO: handle onChange
          const query = window.matchMedia("(prefers-color-scheme: dark)");
          if (query.matches) {
            classList.add("dark");
          } else {
            classList.add("light");
          }
        } else if (theme === "dark") {
          classList.add("dark");
        } else {
          classList.add("light");
        }
      }
      __applyTheme(__getTheme());
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script src="./src/index.tsx" type="module"></script>
  </body>
</html>
